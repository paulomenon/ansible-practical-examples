---
- name: Install MySQL on Ubuntu (localhost)
  hosts: localhost
  become: yes
  connection: local

  tasks:
    - name: Update APT cache
      apt:
        update_cache: yes

    - name: Install MySQL server
      apt:
        name: mysql-server
        state: present

    - name: Start and enable MySQL
      systemd:
        name: mysql
        state: started
        enabled: yes

    #- name: Secure MySQL installation
    #  mysql_secure_installation:
    #    login_user: root
    #    login_password: ""
    #    password: "new_password"
    #    remove_anonymous_users: yes
    #    disallow_root_login: yes
    #    remove_test_database: yes
    #    state: present  